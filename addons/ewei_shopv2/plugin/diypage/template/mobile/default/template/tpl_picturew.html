{if !empty($diyitem['data'])}
    {php $diyitem['data'] = p('diypage')->toArray($diyitem['data'])}
    {if $diyitem['params']['row']==1}
        <div class="fui-cube" style="background: {$diyitem['style']['background']}; {if count($diyitem['data'])==1}padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px;{/if}">
            {if count($diyitem['data'])==1}
                <a href="{$diyitem['data'][0]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][0]['imgurl'])}" /></a>
            {elseif count($diyitem['data'])>1}
                <div class="fui-cube-left" style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px; padding-right: 0;">
                    <a href="{$diyitem['data'][0]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][0]['imgurl'])}" /></a>
                </div>
                <div class="fui-cube-right" {if count($diyitem['data'])==2} style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px;"{/if}>
                    {if count($diyitem['data'])==2}
                        <a href="{$diyitem['data'][1]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][1]['imgurl'])}" /></a>
                    {elseif count($diyitem['data'])>2}
                        <div class="fui-cube-right1" style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px; padding-bottom: 0;">
                            <a href="{$diyitem['data'][1]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][1]['imgurl'])}" /></a>
                        </div>
                        <div class="fui-cube-right2" {if count($diyitem['data'])==3} style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px;"{/if}>
                            {if count($diyitem['data'])==3}
                                <a href="{$diyitem['data'][2]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][2]['imgurl'])}" /></a>
                            {elseif count($diyitem['data'])>3}
                                <div class="left" style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px; padding-right: 0;">
                                    <a href="{$diyitem['data'][2]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][2]['imgurl'])}" /></a>
                                </div>
                             {/if}
                             {if count($diyitem['data'])==4}
                                <div class="right" style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px;">
                                    <a href="{$diyitem['data'][3]['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($diyitem['data'][3]['imgurl'])}" /></a>
                                </div>
                             {/if}
                        </div>
                    {/if}
                 </div>
            {/if}
        </div>
    {elseif $diyitem['params']['row']>1}
        <div class="fui-picturew row-{$diyitem['params']['row']}" style="padding: {$diyitem['style']['paddingleft']}px; background: {$diyitem['style']['background']};">
            {loop $diyitem['data'] $pictureitem}
                <div class="item" style="padding: {$diyitem['style']['paddingtop']}px {$diyitem['style']['paddingleft']}px;">
                    <a href="{$pictureitem['linkurl']}" data-nocache="true"><img data-lazy="{php echo tomedia($pictureitem['imgurl'])}"></a>
                </div>
            {/loop}
        </div>
    {/if}
{/if}